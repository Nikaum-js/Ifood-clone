{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/nikaum/Projects/ifood-clone/src/components/Promotions/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { withNavigation } from 'react-navigation';\nimport { PromoList, Item, PromoImage } from \"./styles\";\nimport api from \"../../services/api\";\n\nfunction Promotions(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      promotions = _useState2[0],\n      setPromotions = _useState2[1];\n\n  useEffect(function () {\n    function loadPromotions() {\n      var response;\n      return _regeneratorRuntime.async(function loadPromotions$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(api.get('promotions'));\n\n            case 2:\n              response = _context.sent;\n              setPromotions(response.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n\n    loadPromotions();\n  }, []);\n\n  function handleNavigate(promo) {\n    navigation.navigate('Trending', {\n      promo: promo\n    });\n  }\n\n  return React.createElement(PromoList, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    }\n  }, promotions.map(function (promo) {\n    return React.createElement(Item, {\n      key: promo.id,\n      onPress: function onPress() {\n        return handleNavigate(promo);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      }\n    }, React.createElement(PromoImage, {\n      source: {\n        uri: promo.promo_url\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      }\n    }));\n  }));\n}\n\nexport default withNavigation(Promotions);","map":{"version":3,"sources":["/home/nikaum/Projects/ifood-clone/src/components/Promotions/index.js"],"names":["React","useState","useEffect","withNavigation","PromoList","Item","PromoImage","api","Promotions","navigation","promotions","setPromotions","loadPromotions","get","response","data","handleNavigate","promo","navigate","map","id","uri","promo_url"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,UAA1B;AAEA,OAAOC,GAAP;;AAEA,SAASC,UAAT,OAAoC;AAAA;;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACER,QAAQ,CAAC,EAAD,CADV;AAAA;AAAA,MAC3BS,UAD2B;AAAA,MACfC,aADe;;AAGlCT,EAAAA,SAAS,CAAC,YAAM;AACd,aAAeU,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACyBL,GAAG,CAACM,GAAJ,CAAQ,YAAR,CADzB;;AAAA;AACQC,cAAAA,QADR;AAEEH,cAAAA,aAAa,CAACG,QAAQ,CAACC,IAAV,CAAb;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIAH,IAAAA,cAAc;AACf,GANQ,EAMN,EANM,CAAT;;AAQA,WAASI,cAAT,CAAwBC,KAAxB,EAA+B;AAC7BR,IAAAA,UAAU,CAACS,QAAX,CAAoB,UAApB,EAAgC;AAAED,MAAAA,KAAK,EAALA;AAAF,KAAhC;AACD;;AAED,SACE,oBAAC,SAAD;AAAW,IAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGP,UAAU,CAACS,GAAX,CAAe,UAAAF,KAAK;AAAA,WACnB,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAK,CAACG,EAAjB;AAAqB,MAAA,OAAO,EAAE;AAAA,eAAMJ,cAAc,CAACC,KAAD,CAApB;AAAA,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAE;AAAEI,QAAAA,GAAG,EAAEJ,KAAK,CAACK;AAAb,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADmB;AAAA,GAApB,CADH,CADF;AASD;;AAED,eAAenB,cAAc,CAACK,UAAD,CAA7B","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { withNavigation } from 'react-navigation';\n\nimport { PromoList, Item, PromoImage } from './styles';\n\nimport api from '../../services/api';\n\nfunction Promotions({ navigation }) {\n  const [promotions, setPromotions] = useState([]);\n\n  useEffect(() => {\n    async function loadPromotions() {\n      const response = await api.get('promotions');\n      setPromotions(response.data);\n    }\n    loadPromotions();\n  }, []);\n\n  function handleNavigate(promo) {\n    navigation.navigate('Trending', { promo });\n  }\n\n  return (\n    <PromoList horizontal>\n      {promotions.map(promo => (\n        <Item key={promo.id} onPress={() => handleNavigate(promo)}>\n          <PromoImage source={{ uri: promo.promo_url }} />\n        </Item>\n      ))}\n    </PromoList>\n  );\n}\n\nexport default withNavigation(Promotions);\n"]},"metadata":{},"sourceType":"module"}