{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/nikaum/Projects/desafio-quaq/src/components/Offers/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { withNavigation } from 'react-navigation';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport api from \"../../services/api\";\nimport { formatNumber } from \"../../utils/formatNumber\";\nimport { Container, Header, Info, Title, SubTitle, SeeMoreButton, SeeMoreText, OfferList, ItemInfo, Item, ItemImage, ItemTitle, ItemPrice, OldPrice, Price } from \"./styles\";\n\nfunction Offers(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      offers = _useState2[0],\n      setOffers = _useState2[1];\n\n  useEffect(function () {\n    function loadOffers() {\n      var response, data;\n      return _regeneratorRuntime.async(function loadOffers$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(api.get('offers'));\n\n            case 2:\n              response = _context.sent;\n              data = response.data.map(function (offer) {\n                return {\n                  id: offer.id,\n                  offer_url: offer.offer_url,\n                  title: offer.title,\n                  newPrice: formatNumber(offer.newPrice),\n                  price: formatNumber(offer.price),\n                  ingredients: offer.ingredients,\n                  delivery: offer.delivery,\n                  delay: offer.delay,\n                  icon: offer.icon\n                };\n              });\n              setOffers(data);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n\n    loadOffers();\n  }, []);\n\n  function handleNavigate(item) {\n    navigation.navigate('Item', {\n      item: item\n    });\n  }\n\n  return React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    }\n  }, React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    }\n  }, React.createElement(Info, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    }\n  }, React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    }\n  }, \"Comida boa e barata\"), React.createElement(SubTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    }\n  }, \"Pratos com frete gr\\xE1tis\")), React.createElement(SeeMoreButton, {\n    onPress: function onPress() {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    }\n  }, React.createElement(SeeMoreText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    }\n  }, \"Ver mais\"))), React.createElement(OfferList, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    }\n  }, offers.map(function (offer) {\n    return React.createElement(Item, {\n      key: offer.id,\n      onPress: function onPress() {\n        return handleNavigate(offer);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      }\n    }, React.createElement(ItemImage, {\n      source: {\n        uri: offer.offer_url\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      }\n    }), React.createElement(ItemInfo, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      }\n    }, React.createElement(ItemTitle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      }\n    }, offer.title), React.createElement(ItemPrice, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      }\n    }, React.createElement(Price, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      }\n    }, offer.newPrice), React.createElement(OldPrice, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      }\n    }, offer.price), React.createElement(MaterialIcons, {\n      name: \"local-offer\",\n      size: 15,\n      color: \"#000\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      }\n    }))));\n  })));\n}\n\nexport default withNavigation(Offers);","map":{"version":3,"sources":["/home/nikaum/Projects/desafio-quaq/src/components/Offers/index.js"],"names":["React","useState","useEffect","withNavigation","MaterialIcons","api","formatNumber","Container","Header","Info","Title","SubTitle","SeeMoreButton","SeeMoreText","OfferList","ItemInfo","Item","ItemImage","ItemTitle","ItemPrice","OldPrice","Price","Offers","navigation","offers","setOffers","loadOffers","get","response","data","map","offer","id","offer_url","title","newPrice","price","ingredients","delivery","delay","icon","handleNavigate","item","navigate","uri"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { withNavigation } from 'react-navigation';\n\nimport { MaterialIcons } from '@expo/vector-icons';\nimport api from '../../services/api';\n\nimport { formatNumber } from '../../utils/formatNumber';\n\nimport {\n  Container,\n  Header,\n  Info,\n  Title,\n  SubTitle,\n  SeeMoreButton,\n  SeeMoreText,\n  OfferList,\n  ItemInfo,\n  Item,\n  ItemImage,\n  ItemTitle,\n  ItemPrice,\n  OldPrice,\n  Price,\n} from './styles';\n\nfunction Offers({ navigation }) {\n  const [offers, setOffers] = useState([]);\n\n  useEffect(() => {\n    async function loadOffers() {\n      const response = await api.get('offers');\n\n      const data = response.data.map(offer => ({\n        id: offer.id,\n        offer_url: offer.offer_url,\n        title: offer.title,\n        newPrice: formatNumber(offer.newPrice),\n        price: formatNumber(offer.price),\n        ingredients: offer.ingredients,\n        delivery: offer.delivery,\n        delay: offer.delay,\n        icon: offer.icon,\n      }));\n\n      setOffers(data);\n    }\n    loadOffers();\n  }, []);\n\n  function handleNavigate(item) {\n    navigation.navigate('Item', { item });\n  }\n\n  return (\n    <Container>\n      <Header>\n        <Info>\n          <Title>Comida boa e barata</Title>\n          <SubTitle>Pratos com frete gr√°tis</SubTitle>\n        </Info>\n        <SeeMoreButton onPress={() => {}}>\n          <SeeMoreText>Ver mais</SeeMoreText>\n        </SeeMoreButton>\n      </Header>\n\n      <OfferList horizontal>\n        {offers.map(offer => (\n          <Item key={offer.id} onPress={() => handleNavigate(offer)}>\n            <ItemImage source={{ uri: offer.offer_url }} />\n            <ItemInfo>\n              <ItemTitle>{offer.title}</ItemTitle>\n              <ItemPrice>\n                <Price>{offer.newPrice}</Price>\n                <OldPrice>{offer.price}</OldPrice>\n                <MaterialIcons name=\"local-offer\" size={15} color=\"#000\" />\n              </ItemPrice>\n            </ItemInfo>\n          </Item>\n        ))}\n      </OfferList>\n    </Container>\n  );\n}\n\nexport default withNavigation(Offers);\n"]},"metadata":{},"sourceType":"module"}